!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("chart.js")):"function"==typeof define&&define.amd?define(["exports","chart.js"],t):t((e=e||self).ChartGeo={},e.Chart)}(this,function(e,t){"use strict";function n(){return new a}function a(){this.reset()}a.prototype={constructor:a,reset:function(){this.s=this.t=0},add:function(e){i(r,e,this.t),i(this,r.s,this.s),this.s?this.t+=r.t:this.s=r.t},valueOf:function(){return this.s}};var r=new a;function i(e,t,n){var a=e.s=t+n,r=a-t,i=a-r;e.t=t-i+(n-r)}var f=1e-6,c=1e-12,o=Math.PI,d=o/2,u=o/4,l=2*o,s=180/o,b=o/180,h=Math.abs,p=Math.atan,g=Math.atan2,v=Math.cos,m=Math.ceil,y=Math.exp,S=Math.log,w=Math.pow,M=Math.sin,x=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,_=Math.tan;function N(e){return e>1?0:e<-1?o:Math.acos(e)}function k(e){return e>1?d:e<-1?-d:Math.asin(e)}function C(){}function A(e,t){e&&j.hasOwnProperty(e.type)&&j[e.type](e,t)}var P={Feature:function(e,t){A(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;++a<r;)A(n[a].geometry,t)}},j={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){O(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)O(n[a],t,0)},Polygon:function(e,t){I(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)I(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;++a<r;)A(n[a],t)}};function O(e,t,n){var a,r=-1,i=e.length-n;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function I(e,t){var n=-1,a=e.length;for(t.polygonStart();++n<a;)O(e[n],t,1);t.polygonEnd()}function R(e,t){e&&P.hasOwnProperty(e.type)?P[e.type](e,t):A(e,t)}function z(e){return[g(e[1],e[0]),k(e[2])]}function G(e){var t=e[0],n=e[1],a=v(n);return[a*v(t),a*M(t),M(n)]}function B(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function D(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function F(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function L(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function W(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function T(e,t){function n(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,a){return(n=t.invert(n,a))&&e.invert(n[0],n[1])}),n}function q(e,t){return[h(e)>o?e+Math.round(-e/l)*l:e,t]}function V(e,t,n){return(e%=l)?t||n?T(Y(e),$(t,n)):Y(e):t||n?$(t,n):q}function H(e){return function(t,n){return[(t+=e)>o?t-l:t<-o?t+l:t,n]}}function Y(e){var t=H(e);return t.invert=H(-e),t}function $(e,t){var n=v(e),a=M(e),r=v(t),i=M(t);function f(e,t){var f=v(t),c=v(e)*f,o=M(e)*f,d=M(t),u=d*n+c*a;return[g(o*r-u*i,c*n-d*a),k(u*r+o*i)]}return f.invert=function(e,t){var f=v(t),c=v(e)*f,o=M(e)*f,d=M(t),u=d*r-o*i;return[g(o*r+d*i,c*n+u*a),k(u*n-c*a)]},f}function K(e,t){(t=G(t))[0]-=e,W(t);var n=N(-t[1]);return((-t[2]<0?-n:n)+l-f)%l}function U(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:C,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function X(e,t){return h(e[0]-t[0])<f&&h(e[1]-t[1])<f}function Z(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function J(e,t,n,a,r){var i,f,c=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,a=e[0],f=e[t];if(X(a,f)){for(r.lineStart(),i=0;i<t;++i)r.point((a=e[i])[0],a[1]);r.lineEnd()}else c.push(n=new Z(a,e,null,!0)),o.push(n.o=new Z(a,null,n,!1)),c.push(n=new Z(f,e,null,!1)),o.push(n.o=new Z(f,null,n,!0))}}),c.length){for(o.sort(t),Q(c),Q(o),i=0,f=o.length;i<f;++i)o[i].e=n=!n;for(var d,u,l=c[0];;){for(var s=l,b=!0;s.v;)if((s=s.n)===l)return;d=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(b)for(i=0,f=d.length;i<f;++i)r.point((u=d[i])[0],u[1]);else a(s.x,s.n.x,1,r);s=s.n}else{if(b)for(d=s.p.z,i=d.length-1;i>=0;--i)r.point((u=d[i])[0],u[1]);else a(s.x,s.p.x,-1,r);s=s.p}d=(s=s.o).z,b=!b}while(!s.v);r.lineEnd()}}}function Q(e){if(t=e.length){for(var t,n,a=0,r=e[0];++a<t;)r.n=n=e[a],n.p=r,r=n;r.n=n=e[0],n.p=r}}q.invert=q;var ee=n();function te(e){return h(e[0])<=o?e[0]:x(e[0])*((h(e[0])+o)%l-o)}function ne(e,t){var n=te(t),a=t[1],r=M(a),i=[M(n),-v(n),0],c=0,s=0;ee.reset(),1===r?a=d+f:-1===r&&(a=-d-f);for(var b=0,h=e.length;b<h;++b)if(m=(p=e[b]).length)for(var p,m,y=p[m-1],S=te(y),w=y[1]/2+u,x=M(w),E=v(w),_=0;_<m;++_,S=C,x=P,E=j,y=N){var N=p[_],C=te(N),A=N[1]/2+u,P=M(A),j=v(A),O=C-S,I=O>=0?1:-1,R=I*O,z=R>o,B=x*P;if(ee.add(g(B*I*M(R),E*j+B*v(R))),c+=z?O+I*l:O,z^S>=n^C>=n){var F=D(G(y),G(N));W(F);var L=D(i,F);W(L);var T=(z^O>=0?-1:1)*k(L[2]);(a>T||a===T&&(F[0]||F[1]))&&(s+=z^O>=0?1:-1)}}return(c<-f||c<f&&ee<-f)^1&s}function ae(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var re,ie;1===(re=ae).length&&(ie=re,re=function(e,t){return ae(ie(e),t)});function fe(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var a=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(r);++a<r;)i[a]=e+a*n;return i}function ce(e){for(var t,n,a,r=e.length,i=-1,f=0;++i<r;)f+=e[i].length;for(n=new Array(f);--r>=0;)for(t=(a=e[r]).length;--t>=0;)n[--f]=a[t];return n}function oe(e,t,n,a){return function(r){var i,f,c,o=t(r),d=U(),u=t(d),l=!1,s={point:b,lineStart:p,lineEnd:g,polygonStart:function(){s.point=v,s.lineStart=m,s.lineEnd=y,f=[],i=[]},polygonEnd:function(){s.point=b,s.lineStart=p,s.lineEnd=g,f=ce(f);var e=ne(i,a);f.length?(l||(r.polygonStart(),l=!0),J(f,ue,e,n,r)):e&&(l||(r.polygonStart(),l=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),f=i=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function b(t,n){e(t,n)&&r.point(t,n)}function h(e,t){o.point(e,t)}function p(){s.point=h,o.lineStart()}function g(){s.point=b,o.lineEnd()}function v(e,t){c.push([e,t]),u.point(e,t)}function m(){u.lineStart(),c=[]}function y(){v(c[0][0],c[0][1]),u.lineEnd();var e,t,n,a,o=u.clean(),s=d.result(),b=s.length;if(c.pop(),i.push(c),c=null,b)if(1&o){if((t=(n=s[0]).length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),e=0;e<t;++e)r.point((a=n[e])[0],a[1]);r.lineEnd()}}else b>1&&2&o&&s.push(s.pop().concat(s.shift())),f.push(s.filter(de))}return s}}function de(e){return e.length>1}function ue(e,t){return((e=e.x)[0]<0?e[1]-d-f:d-e[1])-((t=t.x)[0]<0?t[1]-d-f:d-t[1])}var le=oe(function(){return!0},function(e){var t,n=NaN,a=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,c){var u=i>0?o:-o,l=h(i-n);h(l-o)<f?(e.point(n,a=(a+c)/2>0?d:-d),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(u,a),e.point(i,a),t=0):r!==u&&l>=o&&(h(n-r)<f&&(n-=r*f),h(i-u)<f&&(i-=u*f),a=function(e,t,n,a){var r,i,c=M(e-n);return h(c)>f?p((M(t)*(i=v(a))*M(n)-M(a)*(r=v(t))*M(e))/(r*i*c)):(t+a)/2}(n,a,i,c),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(u,a),t=0),e.point(n=i,a=c),r=u},lineEnd:function(){e.lineEnd(),n=a=NaN},clean:function(){return 2-t}}},function(e,t,n,a){var r;if(null==e)r=n*d,a.point(-o,r),a.point(0,r),a.point(o,r),a.point(o,0),a.point(o,-r),a.point(0,-r),a.point(-o,-r),a.point(-o,0),a.point(-o,r);else if(h(e[0]-t[0])>f){var i=e[0]<t[0]?o:-o;r=n*i/2,a.point(-i,r),a.point(0,r),a.point(i,r)}else a.point(t[0],t[1])},[-o,-d]);function se(e){var t=v(e),n=6*b,a=t>0,r=h(t)>f;function i(e,n){return v(e)*v(n)>t}function c(e,n,a){var r=[1,0,0],i=D(G(e),G(n)),c=B(i,i),d=i[0],u=c-d*d;if(!u)return!a&&e;var l=t*c/u,s=-t*d/u,b=D(r,i),p=L(r,l);F(p,L(i,s));var g=b,v=B(p,g),m=B(g,g),y=v*v-m*(B(p,p)-1);if(!(y<0)){var S=E(y),w=L(g,(-v-S)/m);if(F(w,p),w=z(w),!a)return w;var M,x=e[0],_=n[0],N=e[1],k=n[1];_<x&&(M=x,x=_,_=M);var C=_-x,A=h(C-o)<f;if(!A&&k<N&&(M=N,N=k,k=M),A||C<f?A?N+k>0^w[1]<(h(w[0]-x)<f?N:k):N<=w[1]&&w[1]<=k:C>o^(x<=w[0]&&w[0]<=_)){var P=L(g,(-v+S)/m);return F(P,p),[w,z(P)]}}}function d(t,n){var r=a?e:o-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return oe(i,function(e){var t,n,u,l,s;return{lineStart:function(){l=u=!1,s=1},point:function(b,h){var p,g=[b,h],v=i(b,h),m=a?v?0:d(b,h):v?d(b+(b<0?o:-o),h):0;if(!t&&(l=u=v)&&e.lineStart(),v!==u&&(!(p=c(t,g))||X(t,p)||X(g,p))&&(g[0]+=f,g[1]+=f,v=i(g[0],g[1])),v!==u)s=0,v?(e.lineStart(),p=c(g,t),e.point(p[0],p[1])):(p=c(t,g),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(r&&t&&a^v){var y;m&n||!(y=c(g,t,!0))||(s=0,a?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!v||t&&X(t,g)||e.point(g[0],g[1]),t=g,u=v,n=m},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return s|(l&&u)<<1}}},function(t,a,r,i){!function(e,t,n,a,r,i){if(n){var f=v(t),c=M(t),o=a*n;null==r?(r=t+a*l,i=t-o/2):(r=K(f,r),i=K(f,i),(a>0?r<i:r>i)&&(r+=a*l));for(var d,u=r;a>0?u>i:u<i;u-=o)d=z([f,-c*v(u),-c*M(u)]),e.point(d[0],d[1])}}(i,e,n,r,t,a)},a?[0,-e]:[-o,e-o])}var be=1e9,he=-be;function pe(e,t,n,a){function r(r,i){return e<=r&&r<=n&&t<=i&&i<=a}function i(r,i,f,o){var u=0,l=0;if(null==r||(u=c(r,f))!==(l=c(i,f))||d(r,i)<0^f>0)do{o.point(0===u||3===u?e:n,u>1?a:t)}while((u=(u+f+4)%4)!==l);else o.point(i[0],i[1])}function c(a,r){return h(a[0]-e)<f?r>0?0:3:h(a[0]-n)<f?r>0?2:1:h(a[1]-t)<f?r>0?1:0:r>0?3:2}function o(e,t){return d(e.x,t.x)}function d(e,t){var n=c(e,1),a=c(t,1);return n!==a?n-a:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(f){var c,d,u,l,s,b,h,p,g,v,m,y=f,S=U(),w={point:M,lineStart:function(){w.point=x,d&&d.push(u=[]);v=!0,g=!1,h=p=NaN},lineEnd:function(){c&&(x(l,s),b&&g&&S.rejoin(),c.push(S.result()));w.point=M,g&&y.lineEnd()},polygonStart:function(){y=S,c=[],d=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=d.length;n<r;++n)for(var i,f,c=d[n],o=1,u=c.length,l=c[0],s=l[0],b=l[1];o<u;++o)i=s,f=b,l=c[o],s=l[0],b=l[1],f<=a?b>a&&(s-i)*(a-f)>(b-f)*(e-i)&&++t:b<=a&&(s-i)*(a-f)<(b-f)*(e-i)&&--t;return t}(),n=m&&t,r=(c=ce(c)).length;(n||r)&&(f.polygonStart(),n&&(f.lineStart(),i(null,null,1,f),f.lineEnd()),r&&J(c,o,t,i,f),f.polygonEnd());y=f,c=d=u=null}};function M(e,t){r(e,t)&&y.point(e,t)}function x(i,f){var c=r(i,f);if(d&&u.push([i,f]),v)l=i,s=f,b=c,v=!1,c&&(y.lineStart(),y.point(i,f));else if(c&&g)y.point(i,f);else{var o=[h=Math.max(he,Math.min(be,h)),p=Math.max(he,Math.min(be,p))],S=[i=Math.max(he,Math.min(be,i)),f=Math.max(he,Math.min(be,f))];!function(e,t,n,a,r,i){var f,c=e[0],o=e[1],d=0,u=1,l=t[0]-c,s=t[1]-o;if(f=n-c,l||!(f>0)){if(f/=l,l<0){if(f<d)return;f<u&&(u=f)}else if(l>0){if(f>u)return;f>d&&(d=f)}if(f=r-c,l||!(f<0)){if(f/=l,l<0){if(f>u)return;f>d&&(d=f)}else if(l>0){if(f<d)return;f<u&&(u=f)}if(f=a-o,s||!(f>0)){if(f/=s,s<0){if(f<d)return;f<u&&(u=f)}else if(s>0){if(f>u)return;f>d&&(d=f)}if(f=i-o,s||!(f<0)){if(f/=s,s<0){if(f>u)return;f>d&&(d=f)}else if(s>0){if(f<d)return;f<u&&(u=f)}return d>0&&(e[0]=c+d*l,e[1]=o+d*s),u<1&&(t[0]=c+u*l,t[1]=o+u*s),!0}}}}}(o,S,e,t,n,a)?c&&(y.lineStart(),y.point(i,f),m=!1):(g||(y.lineStart(),y.point(o[0],o[1])),y.point(S[0],S[1]),c||y.lineEnd(),m=!1)}h=i,p=f,g=c}return w}}var ge,ve,me,ye=n(),Se={sphere:C,point:C,lineStart:function(){Se.point=Me,Se.lineEnd=we},lineEnd:C,polygonStart:C,polygonEnd:C};function we(){Se.point=Se.lineEnd=C}function Me(e,t){ge=e*=b,ve=M(t*=b),me=v(t),Se.point=xe}function xe(e,t){e*=b;var n=M(t*=b),a=v(t),r=h(e-ge),i=v(r),f=a*M(r),c=me*n-ve*a*i,o=ve*n+me*a*i;ye.add(g(E(f*f+c*c),o)),ge=e,ve=n,me=a}var Ee=[null,null],_e={type:"LineString",coordinates:Ee};function Ne(e,t){return Ee[0]=e,Ee[1]=t,function(e){return ye.reset(),R(e,Se),+ye}(_e)}var ke={Feature:function(e,t){return Ae(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;++a<r;)if(Ae(n[a].geometry,t))return!0;return!1}},Ce={Sphere:function(){return!0},Point:function(e,t){return Pe(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)if(Pe(n[a],t))return!0;return!1},LineString:function(e,t){return je(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)if(je(n[a],t))return!0;return!1},Polygon:function(e,t){return Oe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)if(Oe(n[a],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;++a<r;)if(Ae(n[a],t))return!0;return!1}};function Ae(e,t){return!(!e||!Ce.hasOwnProperty(e.type))&&Ce[e.type](e,t)}function Pe(e,t){return 0===Ne(e,t)}function je(e,t){for(var n,a,r,i=0,f=e.length;i<f;i++){if(0===(a=Ne(e[i],t)))return!0;if(i>0&&(r=Ne(e[i],e[i-1]))>0&&n<=r&&a<=r&&(n+a-r)*(1-Math.pow((n-a)/r,2))<c*r)return!0;n=a}return!1}function Oe(e,t){return!!ne(e.map(Ie),Re(t))}function Ie(e){return(e=e.map(Re)).pop(),e}function Re(e){return[e[0]*b,e[1]*b]}function ze(e,t,n){var a=fe(e,t-f,n).concat(t);return function(e){return a.map(function(t){return[e,t]})}}function Ge(e,t,n){var a=fe(e,t-f,n).concat(t);return function(e){return a.map(function(t){return[t,e]})}}function Be(){var e,t,n,a,r,i,c,o,d,u,l,s,b=10,p=b,g=90,v=360,y=2.5;function S(){return{type:"MultiLineString",coordinates:w()}}function w(){return fe(m(a/g)*g,n,g).map(l).concat(fe(m(o/v)*v,c,v).map(s)).concat(fe(m(t/b)*b,e,b).filter(function(e){return h(e%g)>f}).map(d)).concat(fe(m(i/p)*p,r,p).filter(function(e){return h(e%v)>f}).map(u))}return S.lines=function(){return w().map(function(e){return{type:"LineString",coordinates:e}})},S.outline=function(){return{type:"Polygon",coordinates:[l(a).concat(s(c).slice(1),l(n).reverse().slice(1),s(o).reverse().slice(1))]}},S.extent=function(e){return arguments.length?S.extentMajor(e).extentMinor(e):S.extentMinor()},S.extentMajor=function(e){return arguments.length?(a=+e[0][0],n=+e[1][0],o=+e[0][1],c=+e[1][1],a>n&&(e=a,a=n,n=e),o>c&&(e=o,o=c,c=e),S.precision(y)):[[a,o],[n,c]]},S.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),i>r&&(n=i,i=r,r=n),S.precision(y)):[[t,i],[e,r]]},S.step=function(e){return arguments.length?S.stepMajor(e).stepMinor(e):S.stepMinor()},S.stepMajor=function(e){return arguments.length?(g=+e[0],v=+e[1],S):[g,v]},S.stepMinor=function(e){return arguments.length?(b=+e[0],p=+e[1],S):[b,p]},S.precision=function(f){return arguments.length?(y=+f,d=ze(i,r,90),u=Ge(t,e,y),l=ze(o,c,90),s=Ge(a,n,y),S):y},S.extentMajor([[-180,-90+f],[180,90-f]]).extentMinor([[-180,-80-f],[180,80+f]])}function De(e){return e}var Fe,Le,We,Te,qe=n(),Ve=n(),He={point:C,lineStart:C,lineEnd:C,polygonStart:function(){He.lineStart=Ye,He.lineEnd=Ue},polygonEnd:function(){He.lineStart=He.lineEnd=He.point=C,qe.add(h(Ve)),Ve.reset()},result:function(){var e=qe/2;return qe.reset(),e}};function Ye(){He.point=$e}function $e(e,t){He.point=Ke,Fe=We=e,Le=Te=t}function Ke(e,t){Ve.add(Te*e-We*t),We=e,Te=t}function Ue(){Ke(Fe,Le)}var Xe=1/0,Ze=Xe,Je=-Xe,Qe=Je,et={point:function(e,t){e<Xe&&(Xe=e);e>Je&&(Je=e);t<Ze&&(Ze=t);t>Qe&&(Qe=t)},lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C,result:function(){var e=[[Xe,Ze],[Je,Qe]];return Je=Qe=-(Ze=Xe=1/0),e}};var tt,nt,at,rt,it=0,ft=0,ct=0,ot=0,dt=0,ut=0,lt=0,st=0,bt=0,ht={point:pt,lineStart:gt,lineEnd:yt,polygonStart:function(){ht.lineStart=St,ht.lineEnd=wt},polygonEnd:function(){ht.point=pt,ht.lineStart=gt,ht.lineEnd=yt},result:function(){var e=bt?[lt/bt,st/bt]:ut?[ot/ut,dt/ut]:ct?[it/ct,ft/ct]:[NaN,NaN];return it=ft=ct=ot=dt=ut=lt=st=bt=0,e}};function pt(e,t){it+=e,ft+=t,++ct}function gt(){ht.point=vt}function vt(e,t){ht.point=mt,pt(at=e,rt=t)}function mt(e,t){var n=e-at,a=t-rt,r=E(n*n+a*a);ot+=r*(at+e)/2,dt+=r*(rt+t)/2,ut+=r,pt(at=e,rt=t)}function yt(){ht.point=pt}function St(){ht.point=Mt}function wt(){xt(tt,nt)}function Mt(e,t){ht.point=xt,pt(tt=at=e,nt=rt=t)}function xt(e,t){var n=e-at,a=t-rt,r=E(n*n+a*a);ot+=r*(at+e)/2,dt+=r*(rt+t)/2,ut+=r,lt+=(r=rt*e-at*t)*(at+e),st+=r*(rt+t),bt+=3*r,pt(at=e,rt=t)}function Et(e){this._context=e}Et.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,l)}},result:C};var _t,Nt,kt,Ct,At,Pt=n(),jt={point:C,lineStart:function(){jt.point=Ot},lineEnd:function(){_t&&It(Nt,kt),jt.point=C},polygonStart:function(){_t=!0},polygonEnd:function(){_t=null},result:function(){var e=+Pt;return Pt.reset(),e}};function Ot(e,t){jt.point=It,Nt=Ct=e,kt=At=t}function It(e,t){Ct-=e,At-=t,Pt.add(E(Ct*Ct+At*At)),Ct=e,At=t}function Rt(){this._string=[]}function zt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Gt(e,t){var n,a,r=4.5;function i(e){return e&&("function"==typeof r&&a.pointRadius(+r.apply(this,arguments)),R(e,n(a))),a.result()}return i.area=function(e){return R(e,n(He)),He.result()},i.measure=function(e){return R(e,n(jt)),jt.result()},i.bounds=function(e){return R(e,n(et)),et.result()},i.centroid=function(e){return R(e,n(ht)),ht.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,De):(e=t).stream,i):e},i.context=function(e){return arguments.length?(a=null==e?(t=null,new Rt):new Et(t=e),"function"!=typeof r&&a.pointRadius(r),i):t},i.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(a.pointRadius(+e),+e),i):r},i.projection(e).context(t)}function Bt(e){return function(t){var n=new Dt;for(var a in e)n[a]=e[a];return n.stream=t,n}}function Dt(){}function Ft(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),R(n,e.stream(et)),t(et.result()),null!=a&&e.clipExtent(a),e}function Lt(e,t,n){return Ft(e,function(n){var a=t[1][0]-t[0][0],r=t[1][1]-t[0][1],i=Math.min(a/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),f=+t[0][0]+(a-i*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([f,c])},n)}function Wt(e,t,n){return Lt(e,[[0,0],t],n)}function Tt(e,t,n){return Ft(e,function(n){var a=+t,r=a/(n[1][0]-n[0][0]),i=(a-r*(n[1][0]+n[0][0]))/2,f=-r*n[0][1];e.scale(150*r).translate([i,f])},n)}function qt(e,t,n){return Ft(e,function(n){var a=+t,r=a/(n[1][1]-n[0][1]),i=-r*n[0][0],f=(a-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([i,f])},n)}Rt.prototype={_radius:4.5,_circle:zt(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=zt(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Dt.prototype={constructor:Dt,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vt=16,Ht=v(30*b);function Yt(e,t){return+t?function(e,t){function n(a,r,i,c,o,d,u,l,s,b,p,v,m,y){var S=u-a,w=l-r,M=S*S+w*w;if(M>4*t&&m--){var x=c+b,_=o+p,N=d+v,C=E(x*x+_*_+N*N),A=k(N/=C),P=h(h(N)-1)<f||h(i-s)<f?(i+s)/2:g(_,x),j=e(P,A),O=j[0],I=j[1],R=O-a,z=I-r,G=w*R-S*z;(G*G/M>t||h((S*R+w*z)/M-.5)>.3||c*b+o*p+d*v<Ht)&&(n(a,r,i,c,o,d,O,I,P,x/=C,_/=C,N,m,y),y.point(O,I),n(O,I,P,x,_,N,u,l,s,b,p,v,m,y))}}return function(t){var a,r,i,f,c,o,d,u,l,s,b,h,p={point:g,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),p.lineStart=S},polygonEnd:function(){t.polygonEnd(),p.lineStart=v}};function g(n,a){n=e(n,a),t.point(n[0],n[1])}function v(){u=NaN,p.point=m,t.lineStart()}function m(a,r){var i=G([a,r]),f=e(a,r);n(u,l,d,s,b,h,u=f[0],l=f[1],d=a,s=i[0],b=i[1],h=i[2],Vt,t),t.point(u,l)}function y(){p.point=g,t.lineEnd()}function S(){v(),p.point=w,p.lineEnd=M}function w(e,t){m(a=e,t),r=u,i=l,f=s,c=b,o=h,p.point=m}function M(){n(u,l,d,s,b,h,r,i,a,f,c,o,Vt,t),p.lineEnd=y,y()}return p}}(e,t):function(e){return Bt({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var $t=Bt({point:function(e,t){this.stream.point(e*b,t*b)}});function Kt(e,t,n,a){var r=v(a),i=M(a),f=r*e,c=i*e,o=r/e,d=i/e,u=(i*n-r*t)/e,l=(i*t+r*n)/e;function s(e,a){return[f*e-c*a+t,n-c*e-f*a]}return s.invert=function(e,t){return[o*e-d*t+u,l-d*e-o*t]},s}function Ut(e){return Xt(function(){return e})()}function Xt(e){var t,n,a,r,i,f,c,o,d,u,l=150,h=480,p=250,g=0,v=0,m=0,y=0,S=0,w=0,M=null,x=le,_=null,N=De,k=.5;function C(e){return o(e[0]*b,e[1]*b)}function A(e){return(e=o.invert(e[0],e[1]))&&[e[0]*s,e[1]*s]}function P(){var e=Kt(l,0,0,w).apply(null,t(g,v)),a=(w?Kt:function(e,t,n){function a(a,r){return[t+e*a,n-e*r]}return a.invert=function(a,r){return[(a-t)/e,(n-r)/e]},a})(l,h-e[0],p-e[1],w);return n=V(m,y,S),c=T(t,a),o=T(n,c),f=Yt(c,k),j()}function j(){return d=u=null,C}return C.stream=function(e){return d&&u===e?d:d=$t(function(e){return Bt({point:function(t,n){var a=e(t,n);return this.stream.point(a[0],a[1])}})}(n)(x(f(N(u=e)))))},C.preclip=function(e){return arguments.length?(x=e,M=void 0,j()):x},C.postclip=function(e){return arguments.length?(N=e,_=a=r=i=null,j()):N},C.clipAngle=function(e){return arguments.length?(x=+e?se(M=e*b):(M=null,le),j()):M*s},C.clipExtent=function(e){return arguments.length?(N=null==e?(_=a=r=i=null,De):pe(_=+e[0][0],a=+e[0][1],r=+e[1][0],i=+e[1][1]),j()):null==_?null:[[_,a],[r,i]]},C.scale=function(e){return arguments.length?(l=+e,P()):l},C.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],P()):[h,p]},C.center=function(e){return arguments.length?(g=e[0]%360*b,v=e[1]%360*b,P()):[g*s,v*s]},C.rotate=function(e){return arguments.length?(m=e[0]%360*b,y=e[1]%360*b,S=e.length>2?e[2]%360*b:0,P()):[m*s,y*s,S*s]},C.angle=function(e){return arguments.length?(w=e%360*b,P()):w*s},C.precision=function(e){return arguments.length?(f=Yt(c,k=e*e),j()):E(k)},C.fitExtent=function(e,t){return Lt(C,e,t)},C.fitSize=function(e,t){return Wt(C,e,t)},C.fitWidth=function(e,t){return Tt(C,e,t)},C.fitHeight=function(e,t){return qt(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&A,P()}}function Zt(e){var t=0,n=o/3,a=Xt(e),r=a(t,n);return r.parallels=function(e){return arguments.length?a(t=e[0]*b,n=e[1]*b):[t*s,n*s]},r}function Jt(e,t){var n=M(e),a=(n+M(t))/2;if(h(a)<f)return function(e){var t=v(e);function n(e,n){return[e*t,M(n)/t]}return n.invert=function(e,n){return[e/t,k(n*t)]},n}(e);var r=1+n*(2*a-n),i=E(r)/a;function c(e,t){var n=E(r-2*a*M(t))/a;return[n*M(e*=a),i-n*v(e)]}return c.invert=function(e,t){var n=i-t;return[g(e,h(n))/a*x(n),k((r-(e*e+n*n)*a*a)/(2*a))]},c}function Qt(){return Zt(Jt).scale(155.424).center([0,33.6442])}function en(){return Qt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function tn(e){return function(t,n){var a=v(t),r=v(n),i=e(a*r);return[i*r*M(t),i*M(n)]}}function nn(e){return function(t,n){var a=E(t*t+n*n),r=e(a),i=M(r),f=v(r);return[g(t*i,a*f),k(a&&n*i/a)]}}var an=tn(function(e){return E(2/(1+e))});an.invert=nn(function(e){return 2*k(e/2)});var rn=tn(function(e){return(e=N(e))&&e/M(e)});function fn(e,t){return[e,S(_((d+t)/2))]}function cn(e){var t,n,a,r=Ut(e),i=r.center,f=r.scale,c=r.translate,d=r.clipExtent,u=null;function l(){var i=o*f(),c=r(function(e){function t(t){return(t=e(t[0]*b,t[1]*b))[0]*=s,t[1]*=s,t}return e=V(e[0]*b,e[1]*b,e.length>2?e[2]*b:0),t.invert=function(t){return(t=e.invert(t[0]*b,t[1]*b))[0]*=s,t[1]*=s,t},t}(r.rotate()).invert([0,0]));return d(null==u?[[c[0]-i,c[1]-i],[c[0]+i,c[1]+i]]:e===fn?[[Math.max(c[0]-i,u),t],[Math.min(c[0]+i,n),a]]:[[u,Math.max(c[1]-i,t)],[n,Math.min(c[1]+i,a)]])}return r.scale=function(e){return arguments.length?(f(e),l()):f()},r.translate=function(e){return arguments.length?(c(e),l()):c()},r.center=function(e){return arguments.length?(i(e),l()):i()},r.clipExtent=function(e){return arguments.length?(null==e?u=t=n=a=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],a=+e[1][1]),l()):null==u?null:[[u,t],[n,a]]},l()}function on(e){return _((d+e)/2)}function dn(e,t){var n=v(e),a=e===t?M(e):S(n/v(t))/S(on(t)/on(e)),r=n*w(on(e),a)/a;if(!a)return fn;function i(e,t){r>0?t<-d+f&&(t=-d+f):t>d-f&&(t=d-f);var n=r/w(on(t),a);return[n*M(a*e),r-n*v(a*e)]}return i.invert=function(e,t){var n=r-t,i=x(a)*E(e*e+n*n);return[g(e,h(n))/a*x(n),2*p(w(r/i,1/a))-d]},i}function un(e,t){return[e,t]}function ln(e,t){var n=v(e),a=e===t?M(e):(n-v(t))/(t-e),r=n/a+e;if(h(a)<f)return un;function i(e,t){var n=r-t,i=a*e;return[n*M(i),r-n*v(i)]}return i.invert=function(e,t){var n=r-t;return[g(e,h(n))/a*x(n),r-x(a)*E(e*e+n*n)]},i}rn.invert=nn(function(e){return e}),fn.invert=function(e,t){return[e,2*p(y(t))-d]},un.invert=un;var sn=1.340264,bn=-.081106,hn=893e-6,pn=.003796,gn=E(3)/2;function vn(e,t){var n=k(gn*M(t)),a=n*n,r=a*a*a;return[e*v(n)/(gn*(sn+3*bn*a+r*(7*hn+9*pn*a))),n*(sn+bn*a+r*(hn+pn*a))]}function mn(e,t){var n=v(t),a=v(e)*n;return[n*M(e)/a,M(t)/a]}function yn(e,t){var n=t*t,a=n*n;return[e*(.8707-.131979*n+a*(a*(.003971*n-.001529*a)-.013791)),t*(1.007226+n*(.015085+a*(.028874*n-.044475-.005916*a)))]}function Sn(e,t){return[v(t)*M(e),M(t)]}function wn(e,t){var n=v(t),a=1+v(e)*n;return[n*M(e)/a,M(t)/a]}function Mn(e,t){return[S(_((d+t)/2)),-e]}vn.invert=function(e,t){for(var n,a=t,r=a*a,i=r*r*r,f=0;f<12&&(i=(r=(a-=n=(a*(sn+bn*r+i*(hn+pn*r))-t)/(sn+3*bn*r+i*(7*hn+9*pn*r)))*a)*r*r,!(h(n)<c));++f);return[gn*e*(sn+3*bn*r+i*(7*hn+9*pn*r))/v(a),k(M(a)/gn)]},mn.invert=nn(p),yn.invert=function(e,t){var n,a=t,r=25;do{var i=a*a,c=i*i;a-=n=(a*(1.007226+i*(.015085+c*(.028874*i-.044475-.005916*c)))-t)/(1.007226+i*(.045255+c*(.259866*i-.311325-.005916*11*c)))}while(h(n)>f&&--r>0);return[e/(.8707+(i=a*a)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),a]},Sn.invert=nn(k),wn.invert=nn(function(e){return 2*p(e)}),Mn.invert=function(e,t){return[-t,2*p(y(e))-d]};var xn={outlineBackgroundColor:null,outlineBorderColor:t.defaults.global.defaultColor,outlineBorderWidth:0,graticuleBorderColor:"#CCCCCC",graticuleBorderWidth:0};t.defaults.global.elements.geoFeature=Object.assign({},t.defaults.global.elements.rectangle,xn);var En=t.elements.GeoFeature=t.Element.extend({inRange:function(e,t){var n,a,r=this.getBounds(),i=(Number.isNaN(e)||e>=r.x&&e<=r.x2)&&(Number.isNaN(t)||t>=r.y&&t<=r.y2),f=this._xScale.geoPath.projection();if(i&&!Number.isNaN(e)&&!Number.isNaN(t)&&"function"==typeof f.invert){var c=f.invert([e,t]);return c&&(n=this.feature,a=c,(n&&ke.hasOwnProperty(n.type)?ke[n.type]:Ae)(n,a))}return i},inLabelRange:function(e,t){return this.inRange(e,t)},inXRange:function(e){return this.inRange(e,NaN)},inYRange:function(e){return this.inRange(NaN,e)},getCenterPoint:function(){if(this.cache&&this.cache.center)return this.cache.center;var e=this._xScale.geoPath.centroid(this.feature),t={x:e[0],y:e[1]};return this.cache=Object.assign({},this.cache||{},{center:t}),t},getBounds:function(){if(this.cache&&this.cache.bounds)return this.cache.bounds;var e=this._xScale.geoPath.bounds(this.feature),t={x:e[0][0],x2:e[1][0],y:e[0][1],y2:e[1][1],width:e[1][0]-e[0][0],height:e[1][1]-e[0][1]};return this.cache=Object.assign({},this.cache||{},{bounds:t}),t},getArea:function(){if(this.cache&&this.cache.area)return this.cache.area;var e=this._xScale.geoPath.area(this.feature);return this.cache=Object.assign({},this.cache||{},{area:e}),e},tooltipPosition:function(){return this.getCenterPoint()},_drawInCache:function(e){var t=this.getBounds();if(Number.isFinite(t.x)){var n=this.cache&&this.cache.canvas?this.cache.canvas:e.createElement("canvas");n.width=Math.max(Math.ceil(t.width),1),n.height=Math.max(Math.ceil(t.height),1);var a=n.getContext("2d");a.clearRect(0,0,n.width,n.height),a.save(),a.translate(-t.x,-t.y),this._drawImpl(a),a.restore(),this.cache=Object.assign({},this.cache||{},{canvas:n,canvasKey:this._optionsToKey()})}},_optionsToKey:function(){var e=this._view;return"".concat(e.backgroundColor,";").concat(e.borderColor,";").concat(e.borderWidth)},_drawImpl:function(e){var t=this._view;e.beginPath(),this._xScale.geoPath.context(e)(this.feature),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fill()),t.borderColor&&(e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.stroke())},draw:function(){if(this.feature){var e=this._chart.ctx;this.cache&&this.cache.canvasKey===this._optionsToKey()||this._drawInCache(e.canvas.ownerDocument);var t=this.getBounds();this.cache&&this.cache.canvas?e.drawImage(this.cache.canvas,t.x,t.y,t.width,t.height):Number.isFinite(t.x)&&(e.save(),this._drawImpl(e),e.restore())}}}),_n=t.helpers.configMerge(t.defaults.global,{showOutline:!1,showGraticule:!1,clipMap:!0,animation:!1,scale:{type:"projection",id:"scale",display:!1}}),Nn=t.DatasetController.prototype,kn=t.DatasetController.extend({datasetElementType:t.elements.GeoFeature,getProjectionScale:function(){return this.getScaleForId("scale")},linkScales:function(){var e=this.getMeta();e.xAxisID="scale",e.yAxisID="scale",this.getProjectionScale().computeBounds(this.resolveOutline())},showOutline:function(){return t.helpers.valueOrDefault(this.getDataset().showOutline,this.chart.options.showOutline)},clipMap:function(){return t.helpers.valueOrDefault(this.getDataset().clipMap,this.chart.options.clipMap)},getGraticule:function(){return t.helpers.valueOrDefault(this.getDataset().showGraticule,this.chart.options.showGraticule)},update:function(e){var t=this;Nn.update.call(this,e);var n=this.getProjectionScale().updateBounds();if(this.showOutline()){var a=this.getMeta().dataset;this.updateGeoFeatureElement(a,-1,e),n&&delete a.cache}this.getGraticule()&&(this.getMeta().graticule=this.resolveGeoFeatureOptions({},-1,e)),this.getMeta().data.forEach(function(a,r){t.updateElement(a,r,e),n&&delete a.cache})},resolveOutline:function(){var e=this.getDataset().outline||{type:"Sphere"};return Array.isArray(e)?{type:"FeatureCollection",features:e}:e},updateElement:function(){},updateGeoFeatureElement:function(e,t,n){var a=this.getDataset(),r=this.getMeta();e.feature=t<0?this.resolveOutline():a.data[t].feature,e._xScale=this.getScaleForId(r.xAxisID),e._yScale=this.getScaleForId(r.yAxisID),e._datasetIndex=this.index,e._index=t,e._model=this.resolveGeoFeatureOptions(e,t,n);var i=e.getCenterPoint();e._model.x=i.x,e._model.y=i.y,e.pivot()},resolveGeoFeatureOptions:function(e,n,a){var r=this.chart,i=this.getDataset(),f=e.custom||{},c=r.options.elements.geoFeature,o={chart:r,dataIndex:n,dataset:i,datasetIndex:this.index,reset:a},d={};return["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"].forEach(function(e){var a;if(n<0){var r="outline".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));a=[f[r],i[r],c[r]]}else a=[f[e],i[e],c[e]];d[e]=t.helpers.options.resolve(a,o,n)}),d},transition:function(e){Nn.transition.call(this,e)},showGraticule:function(){var e=this.getGraticule();if(e){var t=this.chart.ctx,n=this.getProjectionScale().geoPath.context(t);if(t.save(),t.beginPath(),!0===e)n(Be()());else{var a=Be();e.stepMajor&&a.stepMajor(e.stepMajor),e.stepMinor&&a.stepMinor(e.stepMinor),n(a)}var r=this.getMeta().graticule;t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.stroke(),t.restore()}},draw:function(){var e=this.chart,n=this.clipMap(),a=!1;!0!==n&&"outline"!==n&&"outline+graticule"!==n||(a=!0,t.helpers.canvas.clipArea(e.ctx,e.chartArea)),this.showOutline()&&this.getMeta().dataset.draw(),!0===n||"graticule"===n||"outline+graticule"===n?a||t.helpers.canvas.clipArea(e.ctx,e.chartArea):a&&(a=!1,t.helpers.canvas.unclipArea(e.ctx)),this.showGraticule(),!0===n||"items"===n?a||t.helpers.canvas.clipArea(e.ctx,e.chartArea):a&&(a=!1,t.helpers.canvas.unclipArea(e.ctx)),this.getMeta().data.forEach(function(e){return e.draw()}),a&&(a=!1,t.helpers.canvas.unclipArea(e.ctx))}}),Cn={geoAzimuthalEqualArea:function(){return Ut(an).scale(124.75).clipAngle(179.999)},geoAzimuthalEquidistant:function(){return Ut(rn).scale(79.4188).clipAngle(179.999)},geoGnomonic:function(){return Ut(mn).scale(144.049).clipAngle(60)},geoOrthographic:function(){return Ut(Sn).scale(249.5).clipAngle(90+f)},geoStereographic:function(){return Ut(wn).scale(250).clipAngle(142)},geoEqualEarth:function(){return Ut(vn).scale(177.158)},geoAlbers:en,geoAlbersUsa:function(){var e,t,n,a,r,i,c=en(),o=Qt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=Qt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function l(e){var t=e[0],f=e[1];return i=null,n.point(t,f),i||(a.point(t,f),i)||(r.point(t,f),i)}function s(){return e=t=null,l}return l.invert=function(e){var t=c.scale(),n=c.translate(),a=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&a>=-.425&&a<-.214?o:r>=.166&&r<.234&&a>=-.214&&a<-.115?d:c).invert(e)},l.stream=function(n){return e&&t===n?e:(a=[c.stream(t=n),o.stream(n),d.stream(n)],r=a.length,e={point:function(e,t){for(var n=-1;++n<r;)a[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)a[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)a[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)a[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)a[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)a[e].polygonEnd()}});var a,r},l.precision=function(e){return arguments.length?(c.precision(e),o.precision(e),d.precision(e),s()):c.precision()},l.scale=function(e){return arguments.length?(c.scale(e),o.scale(.35*e),d.scale(e),l.translate(c.translate())):c.scale()},l.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),i=+e[0],l=+e[1];return n=c.translate(e).clipExtent([[i-.455*t,l-.238*t],[i+.455*t,l+.238*t]]).stream(u),a=o.translate([i-.307*t,l+.201*t]).clipExtent([[i-.425*t+f,l+.12*t+f],[i-.214*t-f,l+.234*t-f]]).stream(u),r=d.translate([i-.205*t,l+.212*t]).clipExtent([[i-.214*t+f,l+.166*t+f],[i-.115*t-f,l+.234*t-f]]).stream(u),s()},l.fitExtent=function(e,t){return Lt(l,e,t)},l.fitSize=function(e,t){return Wt(l,e,t)},l.fitWidth=function(e,t){return Tt(l,e,t)},l.fitHeight=function(e,t){return qt(l,e,t)},l.scale(1070)},geoConicConformal:function(){return Zt(dn).scale(109.5).parallels([30,30])},geoConicEqualArea:Qt,geoConicEquidistant:function(){return Zt(ln).scale(131.154).center([0,13.9389])},geoEquirectangular:function(){return Ut(un).scale(152.63)},geoMercator:function(){return cn(fn).scale(961/l)},geoTransverseMercator:function(){var e=cn(Mn),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},geoNaturalEarth1:function(){return Ut(yn).scale(175.295)}};Object.keys(Cn).forEach(function(e){Cn["".concat(e.charAt(3).toLowerCase()).concat(e.slice(4))]=Cn[e]});var An=t.Scale.prototype,Pn=t.Scale.extend({ticks:[],initialize:function(){An.initialize.call(this),this.geoPath=Gt(),"string"==typeof this.options.projection&&"function"==typeof Cn[this.options.projection]?this.projection=Cn[this.options.projection]():this.projection=this.options.projection,this.geoPath.projection(this.projection)},computeBounds:function(e){var t=Gt(this.projection.fitWidth(1e3,e)).bounds(e),n=Math.ceil(t[1][1]-t[0][1]),a=Math.ceil(t[1][0]-t[0][0]),r=this.projection.translate();this.outlineBounds={width:a,height:n,aspectRatio:a/n,refScale:this.projection.scale(),refX:r[0],refY:r[1]}},updateBounds:function(){var e=this.chart.chartArea,t=this.outlineBounds,n=e.right-e.left,a=e.bottom-e.top,r=this.oldChartBounds;this.oldChartBounds={chartWidth:n,chartHeight:a};var i=Math.min(n/t.width,a/t.height),f=.5*(n-t.width*i),c=.5*(a-t.height*i);return this.projection.scale(t.refScale*i).translate([i*t.refX+f,i*t.refY+c]),!r||r.chartWidth!==this.oldChartBounds.chartWidth||r.chartHeight!==this.oldChartBounds.chartHeight}});function jn(e,t){if(!(e instanceof Pn))return e;var n={getLabelForIndex:function(e,n){return this.chart.data.datasets[n].data[e][t]}};return Object.setPrototypeOf(n,e),n}function On(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}function In(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var f,c=e[Symbol.iterator]();!(a=(f=c.next()).done)&&(n.push(f.value),!t||n.length!==t);a=!0);}catch(e){r=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gn(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Bn(){}t.scaleService.registerScaleType("projection",Pn,{projection:"albersUsa"});var Dn="\\s*([+-]?\\d+)\\s*",Fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wn=/^#([0-9a-f]{3,8})$/,Tn=new RegExp("^rgb\\("+[Dn,Dn,Dn]+"\\)$"),qn=new RegExp("^rgb\\("+[Ln,Ln,Ln]+"\\)$"),Vn=new RegExp("^rgba\\("+[Dn,Dn,Dn,Fn]+"\\)$"),Hn=new RegExp("^rgba\\("+[Ln,Ln,Ln,Fn]+"\\)$"),Yn=new RegExp("^hsl\\("+[Fn,Ln,Ln]+"\\)$"),$n=new RegExp("^hsla\\("+[Fn,Ln,Ln,Fn]+"\\)$"),Kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Un(){return this.rgb().formatHex()}function Xn(){return this.rgb().formatRgb()}function Zn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Wn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Jn(t):3===n?new na(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new na(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new na(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Tn.exec(e))?new na(t[1],t[2],t[3],1):(t=qn.exec(e))?new na(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Vn.exec(e))?Qn(t[1],t[2],t[3],t[4]):(t=Hn.exec(e))?Qn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yn.exec(e))?fa(t[1],t[2]/100,t[3]/100,1):(t=$n.exec(e))?fa(t[1],t[2]/100,t[3]/100,t[4]):Kn.hasOwnProperty(e)?Jn(Kn[e]):"transparent"===e?new na(NaN,NaN,NaN,0):null}function Jn(e){return new na(e>>16&255,e>>8&255,255&e,1)}function Qn(e,t,n,a){return a<=0&&(e=t=n=NaN),new na(e,t,n,a)}function ea(e){return e instanceof Bn||(e=Zn(e)),e?new na((e=e.rgb()).r,e.g,e.b,e.opacity):new na}function ta(e,t,n,a){return 1===arguments.length?ea(e):new na(e,t,n,null==a?1:a)}function na(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function aa(){return"#"+ia(this.r)+ia(this.g)+ia(this.b)}function ra(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ia(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function fa(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new oa(e,t,n,a)}function ca(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof Bn||(e=Zn(e)),!e)return new oa;if(e instanceof oa)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),f=NaN,c=i-r,o=(i+r)/2;return c?(f=t===i?(n-a)/c+6*(n<a):n===i?(a-t)/c+2:(t-n)/c+4,c/=o<.5?i+r:2-i-r,f*=60):c=o>0&&o<1?0:f,new oa(f,c,o,e.opacity)}function oa(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function da(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}zn(Bn,Zn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Un,formatHex:Un,formatHsl:function(){return ca(this).formatHsl()},formatRgb:Xn,toString:Xn}),zn(na,ta,Gn(Bn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new na(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new na(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aa,formatHex:aa,formatRgb:ra,toString:ra})),zn(oa,function(e,t,n,a){return 1===arguments.length?ca(e):new oa(e,t,n,null==a?1:a)},Gn(Bn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new na(da(e>=240?e-240:e+120,r,a),da(e,r,a),da(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var ua=Math.PI/180,la=180/Math.PI,sa=-.14861,ba=1.78277,ha=-.29227,pa=-.90649,ga=1.97294,va=ga*pa,ma=ga*ba,ya=ba*ha-pa*sa;function Sa(e,t,n,a){return 1===arguments.length?function(e){if(e instanceof wa)return new wa(e.h,e.s,e.l,e.opacity);e instanceof na||(e=ea(e));var t=e.r/255,n=e.g/255,a=e.b/255,r=(ya*a+va*t-ma*n)/(ya+va-ma),i=a-r,f=(ga*(n-r)-ha*i)/pa,c=Math.sqrt(f*f+i*i)/(ga*r*(1-r)),o=c?Math.atan2(f,i)*la-120:NaN;return new wa(o<0?o+360:o,c,r,e.opacity)}(e):new wa(e,t,n,null==a?1:a)}function wa(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Ma(e){return function(){return e}}function xa(e,t){return function(n){return e+n*t}}function Ea(e,t){var n=t-e;return n?xa(e,n):Ma(isNaN(e)?t:e)}zn(wa,Sa,Gn(Bn,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new wa(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new wa(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*ua,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),a=Math.cos(e),r=Math.sin(e);return new na(255*(t+n*(sa*a+ba*r)),255*(t+n*(ha*a+pa*r)),255*(t+n*(ga*a)),this.opacity)}}));var _a,Na=(_a=function(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[a],i=e[a+1],f=a>0?e[a-1]:2*r-i,c=a<t-1?e[a+2]:2*i-r;return function(e,t,n,a,r){var i=e*e,f=i*e;return((1-3*e+3*i-f)*t+(4-6*i+3*f)*n+(1+3*e+3*i-3*f)*a+f*r)/6}((n-a/t)*t,f,r,i,c)}},function(e){var t,n,a=e.length,r=new Array(a),i=new Array(a),f=new Array(a);for(t=0;t<a;++t)n=ta(e[t]),r[t]=n.r||0,i[t]=n.g||0,f[t]=n.b||0;return r=_a(r),i=_a(i),f=_a(f),n.opacity=1,function(e){return n.r=r(e),n.g=i(e),n.b=f(e),n+""}});function ka(e){return function t(n){function a(t,a){var r=e((t=Sa(t)).h,(a=Sa(a)).h),i=Ea(t.s,a.s),f=Ea(t.l,a.l),c=Ea(t.opacity,a.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=f(Math.pow(e,n)),t.opacity=c(e),t+""}}return n=+n,a.gamma=t,a}(1)}ka(function(e,t){var n=t-e;return n?xa(e,n>180||n<-180?n-360*Math.round(n/360):n):Ma(isNaN(e)?t:e)});var Ca=ka(Ea);function Aa(e){return Na(e[e.length-1])}var Pa=Aa(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(On)),ja=Aa(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(On)),Oa=Aa(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(On)),Ia=Aa(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(On)),Ra=Aa(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(On)),za=Aa(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(On)),Ga=Aa(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(On)),Ba=Aa(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(On)),Da=Aa(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(On)),Fa=Aa(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(On)),La=Aa(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(On)),Wa=Aa(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(On)),Ta=Aa(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(On)),qa=Aa(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(On)),Va=Aa(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(On)),Ha=Aa(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(On)),Ya=Aa(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(On)),$a=Aa(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(On)),Ka=Aa(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(On)),Ua=Aa(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(On)),Xa=Aa(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(On)),Za=Aa(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(On)),Ja=Aa(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(On)),Qa=Aa(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(On)),er=Aa(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(On)),tr=Aa(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(On)),nr=Aa(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(On));var ar=Ca(Sa(300,.5,0),Sa(-240,.5,1)),rr=Ca(Sa(-100,.75,.35),Sa(80,1.5,.8)),ir=Ca(Sa(260,.75,.35),Sa(80,1.5,.8)),fr=Sa();var cr=ta(),or=Math.PI/3,dr=2*Math.PI/3;function ur(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var lr=ur(On("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),sr=ur(On("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),br={position:"right",property:"value",gridLines:{drawOnChartArea:!1},legend:{position:"bottom-right",length:100,width:50,margin:8,indicatorWidth:10}};function hr(e){return{getRightValue:function(t){return t&&"number"==typeof t[this.options.property]?t[this.options.property]:e.getRightValue.call(this,t)},determineDataLimits:function(){var t=this.id;this.id="scale",e.determineDataLimits.call(this),this.id=t},_getNormalizedValue:function(e){if(null==e)return null;var t=+this.getRightValue(e);return null==t||Number.isNaN(t)?null:"number"==typeof this._startValue?(t-this._startValue)/this._valueRange:(t-this.start)/(this.end-this.start)},update:function(t,n,a){var r=Math.min(n,this.bottom),i=Math.min(t,this.right),f=this.options.legend,c=this.isHorizontal(),o=function(e,t){return e<1?t*e:e},d=Math.min(i,o(c?f.length:f.width,i))-(c?0:f.indicatorWidth),u=Math.min(r,o(c?f.width:f.length,r))-(c?f.indicatorWidth:0);this.legendSize={w:d,h:u},this.bottom=this.height=u,this.right=this.width=d;var l=e.update.call(this,d,u,a);return this.height=Math.min(u,this.height),this.width=Math.min(d,this.width),l},_getLegendMargin:function(){var e=this.options.legend.indicatorWidth,t=this.options.position,n=this.options.legend.margin;return{left:("number"==typeof n?n:n.left)+("right"===t?e:0),top:("number"==typeof n?n:n.top)+("bottom"===t?e:0),right:("number"==typeof n?n:n.right)+("left"===t?e:0),bottom:("number"==typeof n?n:n.bottom)+("top"===t?e:0)}},_getLegendPosition:function(e){var t=this.options.legend.indicatorWidth,n=this.isHorizontal(),a=this.options.position,r=("left"===a?this.legendSize.w:this.width)+(n?t:0),i=("top"===a?this.legendSize.h:this.height)+(n?0:t),f=this._getLegendMargin(),c=this.options.legend.position;if("string"==typeof c)switch(c){case"top-left":return[f.left,f.top];case"top":return[(e.right-r)/2,f.top];case"left":return[f.left,(e.bottom-i)/2];case"top-right":return[e.right-r-f.right,f.top];case"bottom-right":return[e.right-r-f.right,e.bottom-i-f.bottom];case"bottom":return[(e.right-r)/2,e.bottom-i-f.bottom];case"bottom-left":return[f.left,e.bottom-i-f.bottom];default:return[e.right-r-f.right,(e.bottom-i)/2]}return[c.x,c.y]},draw:function(t){if(this.options.display){var n=this._getLegendPosition(t),a=this.ctx;a.save(),a.translate(n[0],n[1]),e.draw.call(this,Object.assign({},t,{bottom:this.height,right:this.width}));var r=this.options.legend.indicatorWidth;switch(this.options.position){case"left":a.translate(this.legendSize.w,0);break;case"top":a.translate(0,this.legendSize.h);break;case"bottom":a.translate(0,-r);break;default:a.translate(-r,0)}this._drawIndicator(),a.restore()}}}}var pr={interpolateBlues:Za,interpolateBrBG:Pa,interpolateBuGn:Fa,interpolateBuPu:La,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCool:ir,interpolateCubehelixDefault:ar,interpolateGnBu:Wa,interpolateGreens:Ja,interpolateGreys:Qa,interpolateInferno:ur(On("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),interpolateMagma:sr,interpolateOrRd:Ta,interpolateOranges:nr,interpolatePRGn:ja,interpolatePiYG:Oa,interpolatePlasma:ur(On("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),interpolatePuBu:Va,interpolatePuBuGn:qa,interpolatePuOr:Ia,interpolatePuRd:Ha,interpolatePurples:er,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return fr.h=360*e-100,fr.s=1.5-1.5*t,fr.l=.8-.9*t,fr+""},interpolateRdBu:Ra,interpolateRdGy:za,interpolateRdPu:Ya,interpolateRdYlBu:Ga,interpolateRdYlGn:Ba,interpolateReds:tr,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,cr.r=255*(t=Math.sin(e))*t,cr.g=255*(t=Math.sin(e+or))*t,cr.b=255*(t=Math.sin(e+dr))*t,cr+""},interpolateSpectral:Da,interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:lr,interpolateWarm:rr,interpolateYlGn:Ka,interpolateYlGnBu:$a,interpolateYlOrBr:Ua,interpolateYlOrRd:Xa};Object.keys(pr).forEach(function(e){pr["".concat(e.charAt(11).toLowerCase()).concat(e.slice(12))]=pr[e],pr[e.slice(11)]=pr[e]});var gr={interpolate:"blues",missing:"transparent",quantize:0};function vr(e){var t=e.prototype;return e.extend(Object.assign(hr(t),{initialize:function(){t.initialize.call(this),"string"==typeof this.options.interpolate&&"function"==typeof pr[this.options.interpolate]?this.interpolate=pr[this.options.interpolate]:this.interpolate=this.options.interpolate},getColorForValue:function(e){var t=this._getNormalizedValue(e);return null==t||Number.isNaN(t)?this.options.missing:this.getColor(t)},getColor:function(e){var t=e;return this.options.quantize>0&&(t=function(e,t){var n=1/t;if(e<=n)return 0;if(e>=1-n)return 1;for(var a=0;a<1;a+=n)if(e<a)return a-n/2;return e}(t,this.options.quantize)),this.interpolate(t)},_drawIndicator:function(){var e=this.ctx,t=this.width,n=this.height,a=this.options.legend.indicatorWidth,r=this._reversePixels||this.ticksAsNumbers[0]>this.ticksAsNumbers[this.ticksAsNumbers.length-1];if(this.isHorizontal())if(this.options.quantize>0)for(var i=t/this.options.quantize,f=r?function(e){return t-i-e}:function(e){return e},c=0;c<t;c+=i){var o=(c+i/2)/t;e.fillStyle=this.getColor(o),e.fillRect(f(c),0,i,a)}else for(var d=r?function(e){return t-1-e}:function(e){return e},u=0;u<t;++u)e.fillStyle=this.getColor((u+.5)/t),e.fillRect(d(u),0,1,a);else if(this.options.quantize>0)for(var l=n/this.options.quantize,s=r?function(e){return n-l-e}:function(e){return e},b=0;b<n;b+=l){var h=(b+l/2)/n;e.fillStyle=this.getColor(h),e.fillRect(0,s(b),a,l)}else for(var p=r?function(e){return n-1-e}:function(e){return e},g=0;g<n;++g)e.fillStyle=this.getColor((g+.5)/n),e.fillRect(0,p(g),a,1)}}))}var mr=vr(t.scaleService.getScaleConstructor("linear")),yr=vr(t.scaleService.getScaleConstructor("logarithmic"));t.scaleService.registerScaleType("color",mr,t.helpers.merge({},[t.scaleService.getScaleDefaults("linear"),br,gr])),t.scaleService.registerScaleType("colorLogarithmic",yr,t.helpers.merge({},[t.scaleService.getScaleDefaults("logarithmic"),br,gr]));var Sr={position:"bottom",missing:1,range:[1,20],mode:0,legend:{length:90,width:70,indicatorWidth:42}};function wr(e){var n=e.prototype;return e.extend(Object.assign(hr(n),{getSizeForValue:function(e){var t=this._getNormalizedValue(e);return null==t||Number.isNaN(t)?this.options.missing:this.getSizeImpl(t)},getSizeImpl:function(e){var t=In(this.options.range,2),n=t[0],a=t[1];if("area"===this.options.mode){var r=a*a*Math.PI,i=n*n*Math.PI,f=e*(r-i)+i;return Math.sqrt(f/Math.PI)}return e*(a-n)+n},_drawIndicator:function(){var e=this,n=this.ctx,a=this.options.legend.indicatorWidth/2,r=this.isHorizontal(),i=this.ticksAsNumbers,f=this._labelItems||i.map(function(t,n){return a={},i=r?"x":"y",f=e.getPixelForTick(n),i in a?Object.defineProperty(a,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[i]=f,a;var a,i,f});if((this._gridLineItems||[]).forEach(function(t){if(n.save(),n.strokeStyle=t.color,n.lineWidth=t.width,n.setLineDash&&(n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset),n.beginPath(),e.options.gridLines.drawTicks)switch(e.options.position){case"left":n.moveTo(0,t.ty1),n.lineTo(a,t.ty2);break;case"top":n.moveTo(t.tx1,0),n.lineTo(t.tx2,a);break;case"bottom":n.moveTo(t.tx1,a),n.lineTo(t.tx2,2*a);break;default:n.moveTo(a,t.ty1),n.lineTo(2*a,t.ty2)}n.stroke(),n.restore()}),this._model){var c=this._model;n.strokeStyle=c.borderColor||t.defaults.global.defaultColor,n.lineWidth=null==c.borderWidth?t.elements.point.borderWidth:c.borderWidth,n.fillStyle=c.backgroundColor||t.defaults.global.defaultColor}else n.fillStyle="blue";i.forEach(function(i,c){var o=f[c],d=e.getSizeForValue(i),u=r?o.x:a,l=r?a:o.y;t.helpers.canvas.drawPoint(n,e._model?e._model.pointStyle:null,d,u,l,0)})}}))}var Mr=wr(t.scaleService.getScaleConstructor("linear")),xr=wr(t.scaleService.getScaleConstructor("logarithmic"));function Er(e,n){var a=t.scaleService.getScaleConstructor(n.type);if(!a)return null;var r=new a({id:n.id,type:n.type,options:t.helpers.merge({},[t.scaleService.getScaleDefaults(n.type),n]),ctx:e.ctx,chart:e});return r.mergeTicksOptions(),r.fullWidth=r.options.fullWidth,r.position="chartArea",r.weight=r.options.weight,t.layouts.addBox(e,r),r}t.scaleService.registerScaleType("size",Mr,t.helpers.merge({},[t.scaleService.getScaleDefaults("linear"),br,Sr])),t.scaleService.registerScaleType("sizeLogarithmic",xr,t.helpers.merge({},[t.scaleService.getScaleDefaults("logarithmic"),br,Sr]));t.defaults.choropleth=t.helpers.configMerge(_n,{hover:{mode:"single"},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return null==e.value?t.labels[e.index]:"".concat(t.labels[e.index],": ").concat(e.value)}}},geo:{colorScale:{display:!1,id:"color",type:"color"}},elements:{geoFeature:{backgroundColor:function(e){if(null==e.dataIndex)return null;var t=e.dataset.data[e.dataIndex];return e.chart.getDatasetMeta(e.datasetIndex).controller.valueToColor(t)}}}});var _r=kn.prototype,Nr=t.controllers.choropleth=kn.extend({dataElementType:t.elements.GeoFeature,linkScales:function(){_r.linkScales.call(this),this._colorScale&&t.layouts.removeBox(this.chart,this._colorScale),this._colorScale=Er(this.chart,this.chart.options.geo.colorScale)},_getValueScale:function(){var e=_r._getValueScale.call(this);return this._colorScale?jn(e,this._colorScale.options.property):e},updateElement:function(e,t,n){_r.updateElement.call(this,e,t,n),this.updateGeoFeatureElement(e,t,n)},valueToColor:function(e){return this._colorScale?this._colorScale.getColorForValue(e):"blue"}});t.defaults.bubbleMap=t.helpers.configMerge(_n,{showOutline:!0,clipMap:"outline+graticule",hover:{mode:"single"},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return null==e.value?t.labels[e.index]:"".concat(t.labels[e.index],": ").concat(e.value)}}},geo:{radiusScale:{display:!1,id:"radius",type:"size"}},elements:{point:{radius:function(e){if(null==e.dataIndex)return null;var t=e.dataset.data[e.dataIndex];return e.chart.getDatasetMeta(e.datasetIndex).controller.valueToRadius(t)}}}});var kr=kn.prototype,Cr=t.controllers.bubble.prototype,Ar=t.controllers.bubbleMap=kn.extend({dataElementType:t.elements.Point,_dataElementOptions:Cr._dataElementOptions,linkScales:function(){kr.linkScales.call(this),this._radiusScale&&t.layouts.removeBox(this.chart,this._radiusScale),this._radiusScale=Er(this.chart,this.chart.options.geo.radiusScale)},_getValueScale:function(){var e=kr._getValueScale.call(this);return this._radiusScale?jn(e,this._radiusScale.options.property):e},updateElement:function(e,t,n){kr.updateElement.apply(this,arguments);var a=this.getMeta(),r=e.custom||{},i=this.getDataset().data[t],f=In(this.getProjectionScale().projection([null==i.longitude?i.x:i.longitude,null==i.latitude?i.y:i.latitude]),2),c=f[0],o=f[1];e._xScale=this.getScaleForId(a.xAxisID),e._yScale=this.getScaleForId(a.yAxisID),e._datasetIndex=this.index,e._index=t;var d=(Cr._resolveElementOptions||Cr._resolveDataElementOptions).call(this,e,t);e._options=d,e._model={backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,hitRadius:d.hitRadius,pointStyle:d.pointStyle,rotation:d.rotation,radius:n?0:d.radius,skip:r.skip||isNaN(c)||isNaN(o),x:c,y:o},this._radiusScale&&(this._radiusScale._model=d),e.pivot()},valueToRadius:function(e){return this._radiusScale?this._radiusScale.getSizeForValue(e):5}});function Pr(e){return e}function jr(e){if(null==e)return Pr;var t,n,a=e.scale[0],r=e.scale[1],i=e.translate[0],f=e.translate[1];return function(e,c){c||(t=n=0);var o=2,d=e.length,u=new Array(d);for(u[0]=(t+=e[0])*a+i,u[1]=(n+=e[1])*r+f;o<d;)u[o]=e[o],++o;return u}}function Or(e){var t,n=jr(e.transform),a=1/0,r=a,i=-a,f=-a;function c(e){(e=n(e))[0]<a&&(a=e[0]),e[0]>i&&(i=e[0]),e[1]<r&&(r=e[1]),e[1]>f&&(f=e[1])}function o(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(o);break;case"Point":c(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(c)}}for(t in e.arcs.forEach(function(e){for(var t,c=-1,o=e.length;++c<o;)(t=n(e[c],c))[0]<a&&(a=t[0]),t[0]>i&&(i=t[0]),t[1]<r&&(r=t[1]),t[1]>f&&(f=t[1])}),e.objects)o(e.objects[t]);return[a,r,i,f]}function Ir(e,t){var n=t.id,a=t.bbox,r=null==t.properties?{}:t.properties,i=Rr(e,t);return null==n&&null==a?{type:"Feature",properties:r,geometry:i}:null==a?{type:"Feature",id:n,properties:r,geometry:i}:{type:"Feature",id:n,bbox:a,properties:r,geometry:i}}function Rr(e,t){var n=jr(e.transform),a=e.arcs;function r(e,t){t.length&&t.pop();for(var r=a[e<0?~e:e],i=0,f=r.length;i<f;++i)t.push(n(r[i],i));e<0&&function(e,t){for(var n,a=e.length,r=a-t;r<--a;)n=e[r],e[r++]=e[a],e[a]=n}(t,f)}function i(e){return n(e)}function f(e){for(var t=[],n=0,a=e.length;n<a;++n)r(e[n],t);return t.length<2&&t.push(t[0]),t}function c(e){for(var t=f(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(c)}return function e(t){var n,a=t.type;switch(a){case"GeometryCollection":return{type:a,geometries:t.geometries.map(e)};case"Point":n=i(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(i);break;case"LineString":n=f(t.arcs);break;case"MultiLineString":n=t.arcs.map(f);break;case"Polygon":n=o(t.arcs);break;case"MultiPolygon":n=t.arcs.map(o);break;default:return null}return{type:a,coordinates:n}}(t)}function zr(e,t){var n={},a={},r={},i=[],f=-1;function c(e,t){for(var a in e){var r=e[a];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){n[e<0?~e:e]=1}),i.push(r)}}return t.forEach(function(n,a){var r,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(r=t[++f],t[f]=n,t[a]=r)}),t.forEach(function(t){var n,i,f=function(t){var n,a=e.arcs[t<0?~t:t],r=a[0];e.transform?(n=[0,0],a.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=a[a.length-1];return t<0?[n,r]:[r,n]}(t),c=f[0],o=f[1];if(n=r[c])if(delete r[n.end],n.push(t),n.end=o,i=a[o]){delete a[i.start];var d=i===n?n:n.concat(i);a[d.start=n.start]=r[d.end=i.end]=d}else a[n.start]=r[n.end]=n;else if(n=a[o])if(delete a[n.start],n.unshift(t),n.start=c,i=r[c]){delete r[i.end];var u=i===n?n:i.concat(n);a[u.start=i.start]=r[u.end=n.end]=u}else a[n.start]=r[n.end]=n;else a[(n=[t]).start=c]=r[n.end=o]=n}),c(r,a),c(a,r),t.forEach(function(e){n[e<0?~e:e]||i.push([e])}),i}function Gr(e,t,n){var a,r,i;if(arguments.length>1)a=function(e,t,n){var a,r=[],i=[];function f(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:a})}function c(e){e.forEach(f)}function o(e){e.forEach(c)}return function e(t){switch(a=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":c(t.arcs);break;case"MultiLineString":case"Polygon":o(t.arcs);break;case"MultiPolygon":t.arcs.forEach(o)}}(t),i.forEach(null==n?function(e){r.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&r.push(e[0].i)}),r}(0,t,n);else for(r=0,a=new Array(i=e.arcs.length);r<i;++r)a[r]=r;return{type:"MultiLineString",arcs:zr(e,a)}}function Br(e,t){var n={},a=[],r=[];function i(e){e.forEach(function(t){t.forEach(function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)})}),a.push(e)}function f(t){return function(e){for(var t,n=-1,a=e.length,r=e[a-1],i=0;++n<a;)t=r,r=e[n],i+=t[0]*r[1]-t[1]*r[0];return Math.abs(i)}(Rr(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":i(t.arcs);break;case"MultiPolygon":t.arcs.forEach(i)}}),a.forEach(function(e){if(!e._){var t=[],a=[e];for(e._=1,r.push(t);e=a.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){n[e<0?~e:e].forEach(function(e){e._||(e._=1,a.push(e))})})})}}),a.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:r.map(function(t){var a,r=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){n[e<0?~e:e].length<2&&r.push(e)})})}),(a=(r=zr(e,r)).length)>1)for(var i,c,o=1,d=f(r[0]);o<a;++o)(i=f(r[o]))>d&&(c=r[0],r[0]=r[o],r[o]=c,d=i);return r}).filter(function(e){return e.length>0})}}function Dr(e,t){for(var n=0,a=e.length;n<a;){var r=n+a>>>1;e[r]<t?n=r+1:a=r}return n}function Fr(e){if(null==e)return Pr;var t,n,a=e.scale[0],r=e.scale[1],i=e.translate[0],f=e.translate[1];return function(e,c){c||(t=n=0);var o=2,d=e.length,u=new Array(d),l=Math.round((e[0]-i)/a),s=Math.round((e[1]-f)/r);for(u[0]=l-t,t=l,u[1]=s-n,n=s;o<d;)u[o]=e[o],++o;return u}}var Lr=Object.freeze({__proto__:null,bbox:Or,feature:function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Ir(e,t)})}:Ir(e,t)},mesh:function(e){return Rr(e,Gr.apply(this,arguments))},meshArcs:Gr,merge:function(e){return Rr(e,Br.apply(this,arguments))},mergeArcs:Br,neighbors:function(e){var t={},n=e.map(function(){return[]});function a(e,n){e.forEach(function(e){e<0&&(e=~e);var a=t[e];a?a.push(n):t[e]=[n]})}function r(e,t){e.forEach(function(e){a(e,t)})}var i={LineString:a,MultiLineString:r,Polygon:r,MultiPolygon:function(e,t){e.forEach(function(e){r(e,t)})}};for(var f in e.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in i&&i[t.type](t.arcs,n)}),t)for(var c=t[f],o=c.length,d=0;d<o;++d)for(var u=d+1;u<o;++u){var l,s=c[d],b=c[u];(l=n[s])[f=Dr(l,b)]!==b&&l.splice(f,0,b),(l=n[b])[f=Dr(l,s)]!==s&&l.splice(f,0,s)}return n},quantize:function(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)c=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be ≥2");var n,a=(c=e.bbox||Or(e))[0],r=c[1],i=c[2],f=c[3];t={scale:[i-a?(i-a)/(n-1):1,f-r?(f-r)/(n-1):1],translate:[a,r]}}var c,o,d=Fr(t),u=e.objects,l={};function s(e){return d(e)}function b(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(b)};break;case"Point":t={type:"Point",coordinates:s(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(s)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(o in u)l[o]=b(u[o]);return{type:"Topology",bbox:c,transform:t,objects:l,arcs:e.arcs.map(function(e){var t,n=0,a=1,r=e.length,i=new Array(r);for(i[0]=d(e[0],0);++n<r;)((t=d(e[n],n))[0]||t[1])&&(i[a++]=t);return 1===a&&(i[a++]=[0,0]),i.length=a,i})}},transform:jr,untransform:Fr});e.BubbleMap=Ar,e.Choropleth=Nr,e.ColorScale=mr,e.ColorScaleLogarithmic=yr,e.Geo=kn,e.GeoFeature=En,e.ProjectionScale=Pn,e.SizeScale=Mr,e.SizeScaleLogarithmic=xr,e.geoDefaults=_n,e.topojson=Lr,e.wrapProjectionScale=jn,Object.defineProperty(e,"__esModule",{value:!0})});